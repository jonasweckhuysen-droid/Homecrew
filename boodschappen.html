<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<title>Homecrew - Boodschappen</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body class="app-body">

<header class="topbar">
  <button onclick="window.location.href='dashboard.html'" class="home-btn"><i class="fas fa-home"></i> Dashboard</button>
  <h2>ðŸ›’ Boodschappen</h2>
  <button onclick="logout()" class="home-btn">ðŸšª Uitloggen</button>
</header>

<main class="content">
  <h3 id="welcomeUser"></h3>

  <div class="card">
    <div class="dashboard-buttons">

      <!-- VINGARDIUM -->
      <div class="dash-btn" onclick="document.getElementById('vingardium-box').classList.toggle('show')">
        <i class="fas fa-seedling"></i> <span>Vingardium</span> <i class="fas fa-chevron-down"></i>
      </div>

      <!-- DRIJVELDEN -->
      <div class="dash-btn" onclick="document.getElementById('drijvelden-box').classList.toggle('show')">
        <i class="fas fa-tractor"></i> <span>Drijvelden</span> <i class="fas fa-chevron-down"></i>
      </div>

    </div>

    <!-- VINGARDIUM LIJST -->
    <div class="list-box" id="vingardium-box">
      <div class="input-group">
        <input type="text" id="vingardiumInput" placeholder="Nieuw item...">
        <button class="main-btn" onclick="addItem('vingardium')"><i class="fas fa-plus"></i></button>
      </div>
      <ul id="vingardiumList"></ul>
    </div>

    <!-- DRIJVELDEN LIJST -->
    <div class="list-box" id="drijvelden-box">
      <div class="input-group">
        <input type="text" id="drijveldenInput" placeholder="Nieuw item...">
        <button class="main-btn" onclick="addItem('drijvelden')"><i class="fas fa-plus"></i></button>
      </div>
      <ul id="drijveldenList"></ul>
    </div>
  </div>
</main>

<script>
const user = localStorage.getItem("homecrewUser") || sessionStorage.getItem("homecrewUser");
if(!user) window.location.href = "index.html";
document.getElementById("welcomeUser").innerText = "Welkom, " + user + " ðŸ‘‹";

function logout(){
  localStorage.clear();
  sessionStorage.clear();
  location.href = "index.html";
}

function loadList(place){
  const list = JSON.parse(localStorage.getItem(`boodschappen_${place}`)) || [];
  const ul = document.getElementById(place + "List");
  ul.innerHTML = "";

  list.forEach((item, index) => {
    const li = document.createElement("li");
    li.textContent = item;

    const btn = document.createElement("button");
    btn.innerHTML = "<i class='fas fa-trash'></i>";
    btn.addEventListener("click", () => removeItem(place, index));

    li.appendChild(btn);
    ul.appendChild(li);
  });
}

function addItem(place){
  const input = document.getElementById(place + "Input");
  const value = input.value.trim();
  if(!value) return;

  const list = JSON.parse(localStorage.getItem(`boodschappen_${place}`)) || [];
  list.push(value);
  localStorage.setItem(`boodschappen_${place}`, JSON.stringify(list));
  input.value = "";
  loadList(place);
}

function removeItem(place, index){
  const list = JSON.parse(localStorage.getItem(`boodschappen_${place}`)) || [];
  list.splice(index,1);
  localStorage.setItem(`boodschappen_${place}`, JSON.stringify(list));
  loadList(place);
}

// Initialiseren
loadList("vingardium");
loadList("drijvelden");
</script>

</body>
</html>
