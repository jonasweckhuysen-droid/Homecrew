<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Homecrew - Agenda</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="manifest" href="/Homecrew/manifest.json">
    <meta name="theme-color" content="#3a6ea5">
    <link rel="apple-touch-icon" href="/Homecrew/icons/icon-192.png">

    <link rel="stylesheet" href="/Homecrew/style.css">
</head>
<body class="agenda-body">

<!-- TOPBAR -->
<div class="topbar">
  <button class="back-btn" onclick="window.location.href='/Homecrew/dashboard.html'">
    ğŸ 
  </button>
  <span class="top-title">Mijn agenda</span>
</div>

<div class="login-box">

    <h1 id="welcome"></h1>

    <div class="card">
      <h3>â• Nieuwe gebeurtenis</h3>

      <div class="input-group">
        <label>ğŸ“… Datum</label>
        <input type="date" id="date">
      </div>

      <div class="input-group">
        <label>ğŸ“ Titel</label>
        <input type="text" id="title" placeholder="Titel">
      </div>

      <div class="input-group">
        <label>ğŸ“– Beschrijving</label>
        <textarea id="description" placeholder="Beschrijving"></textarea>
      </div>

      <button class="add-btn" onclick="addEvent()">âœ… Toevoegen</button>
    </div>

    <div class="card">
      <h3>ğŸ“Œ Gebeurtenissen</h3>
      <ul id="events" class="events-list"></ul>
    </div>

    <button class="logout-btn" onclick="logout()">ğŸšª Uitloggen</button>
</div>

<script type="module" src="script.js"></script>

<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/Homecrew/sw.js');
}

const activeUser = localStorage.getItem("homecrewUser");
if (!activeUser) window.location.href = "/Homecrew/index.html";

document.getElementById("welcome").innerText = "Welkom, " + activeUser + " ğŸ‘‹";

loadEvents();
</script>

</body>
</html>
