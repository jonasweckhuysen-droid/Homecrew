<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Homecrew - Boodschappen</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="manifest" href="/Homecrew/manifest.json">
    <meta name="theme-color" content="#3a6ea5">
    <link rel="apple-touch-icon" href="/Homecrew/icons/icon-192.png">

    <link rel="stylesheet" href="/Homecrew/style.css">
</head>

<body class="agenda-body">

<div class="topbar">
  <button class="back-btn" onclick="window.location.href='/Homecrew/dashboard.html'">ğŸ </button>
  <span class="top-title">Boodschappenlijst</span>
</div>

<div class="login-box">

<h1 id="welcome"></h1>

<div class="card">
<h3>ğŸª´ Vingardium</h3>

<div class="input-group">
  <input type="text" id="vingardiumInput" placeholder="Nieuw item...">
  <button class="add-btn" onclick="addItem('vingardium')">â• Toevoegen</button>
</div>

<ul id="vingardiumList" class="events-list"></ul>
</div>


<div class="card">
<h3>ğŸŒ¾ Drijvelden</h3>

<div class="input-group">
  <input type="text" id="drijveldenInput" placeholder="Nieuw item...">
  <button class="add-btn" onclick="addItem('drijvelden')">â• Toevoegen</button>
</div>

<ul id="drijveldenList" class="events-list"></ul>
</div>

</div>

<script>
const activeUser = localStorage.getItem("homecrewUser");
if (!activeUser) window.location.href = "/Homecrew/index.html";

document.getElementById("welcome").innerText = "Welkom, " + activeUser + " ğŸ‘‹";

// Items ophalen
function loadList(place) {
  const list = JSON.parse(localStorage.getItem(`boodschappen_${place}`)) || [];
  const ul = document.getElementById(place + "List");
  ul.innerHTML = "";

  list.forEach((item, index) => {
    const li = document.createElement("li");
    li.innerHTML = `
      ${item}
      <button onclick="removeItem('${place}', ${index})"
      style="float:right;background:#c62828;border:none;color:white;padding:5px 10px;border-radius:8px;">
      âŒ</button>
    `;
    ul.appendChild(li);
  });
}

// Item toevoegen
function addItem(place) {
  const input = document.getElementById(place + "Input");
  const value = input.value.trim();
  if (!value) return;

  const list = JSON.parse(localStorage.getItem(`boodschappen_${place}`)) || [];
  list.push(value);

  localStorage.setItem(`boodschappen_${place}`, JSON.stringify(list));

  input.value = "";
  loadList(place);
}

// Item verwijderen
function removeItem(place, index) {
  const list = JSON.parse(localStorage.getItem(`boodschappen_${place}`));
  list.splice(index, 1);

  localStorage.setItem(`boodschappen_${place}`, JSON.stringify(list));
  loadList(place);
}

// Init
loadList("vingardium");
loadList("drijvelden");
</script>

</body>
</html>
